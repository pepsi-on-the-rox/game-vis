<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Board Game Card with Field</title>
  <link rel="stylesheet" href="stylesheets/cards.css">
</head>
<body>
    <!-- Existing row of face-up cards -->
  <div class="card-container"></div>
  
  <!-- New container for decks (two decks in a row) -->
  <div class="deck-container">
    <!-- Add inline onclick attributes to call our handler -->
    <div class="card-stack" id="deck1" onclick="handleDeckClick('deck1', 'blue')"></div>
    <div class="card-stack" id="deck2" onclick="handleDeckClick('deck2', 'red')"></div>
  </div>

  <script>
    /******************************************************
     * 1) Existing Row of Face-Up Cards
     ******************************************************/
    const cardCount = 4; // Adjust as needed
    const cardContainer = document.querySelector('.card-container');
    for (let i = 1; i <= cardCount; i++) {
      const cardHTML = `
        <div class="card">
          <!-- Top-left circle with curved text and centered number -->
          <div class="circle top-left">
            <svg viewBox="0 0 100 100">
              <defs>
                <path id="curveTL10/40" d="M 10,50 A 40,40 0 0,0 90,50" />
              </defs>
              <text fill="#000" font-size="10" font-weight="bold" dominant-baseline="middle">
                <textPath href="#curveTL10/40" startOffset="50%" text-anchor="middle">
                  Top Left
                </textPath>
              </text>
              <text x="50" y="50" fill="#000" font-size="20" font-weight="bold"
                    text-anchor="middle" dominant-baseline="middle">
                10/40
              </text>
            </svg>
          </div>
          
          <!-- Bottom-left circle with curved text and centered number -->
          <div class="circle bottom-left">
            <svg viewBox="0 0 100 100">
              <defs>
                <path id="curveBL12" d="M 10,50 A 40,40 0 0,0 90,50" />
              </defs>
              <text fill="#000" font-size="10" font-weight="bold" dominant-baseline="middle">
                <textPath href="#curveBL12" startOffset="50%" text-anchor="middle">
                  Bottom Left
                </textPath>
              </text>
              <text x="50" y="50" fill="#000" font-size="20" font-weight="bold"
                    text-anchor="middle" dominant-baseline="middle">
                12
              </text>
            </svg>
          </div>
          
          <!-- Bottom-right circle with curved text and centered number -->
          <div class="circle bottom-right">
            <svg viewBox="0 0 100 100">
              <defs>
                <path id="curveBR12" d="M 90,50 A 40,40 0 0,0 10,50" />
              </defs>
              <text fill="#000" font-size="10" font-weight="bold" dominant-baseline="middle">
                <textPath href="#curveBR${i}" startOffset="50%" text-anchor="middle">
                  Bottom Right
                </textPath>
              </text>
              <text x="50" y="50" fill="#000" font-size="20" font-weight="bold"
                    text-anchor="middle" dominant-baseline="middle">
                ${i}
              </text>
            </svg>
          </div>
          
          <!-- Top rectangle -->
          <div class="top-rectangle">Top Section</div>
          
          <!-- Field with title -->
          <div class="field">player</div>
          
          <!-- Bottom shape with text description -->
          <div class="bottom-shape">
            <p class="description" style="text-align: center; margin: 10px;">
              This is a description text for the card.
            </p>
          </div>
        </div>
      `;
      cardContainer.innerHTML += cardHTML;
    }

    /******************************************************
     * 2) New Decks (Stacks of Card Backs) - Smaller Version
     ******************************************************/
    const stackCount = 5; // Number of card backs in each deck
    const deckContainers = document.querySelectorAll('.card-stack');
    deckContainers.forEach(deck => {
      // Set a default background for each card back based on deck ID
      let defaultBg = "";
      if (deck.id === "deck1") {
        defaultBg = "linear-gradient(135deg, #0055FF 0%, #3399FF 100%)";  // Blue deck
      } else if (deck.id === "deck2") {
        defaultBg = "linear-gradient(135deg, #FF0000 0%, #FF6666 100%)";  // Red deck
      }
      for (let i = 1; i <= stackCount; i++) {
        const offset = (i - 1) * 5; // 5px offset per card
        const rotation = (i % 2 === 0) ? 1 : -1; // alternate ±1° rotation
        const zIndex = stackCount - i; // Top card has highest z-index
        const cardBackHTML = `
          <div class="card-back"
               style="transform: translate(${offset}px, ${offset}px) rotate(${rotation}deg);
                      z-index: ${zIndex};
                      background: ${defaultBg};">
          </div>
        `;
        deck.innerHTML += cardBackHTML;
      }
    });

    /******************************************************
     * 3) Click Handler Function for Decks (Updated)
     ******************************************************/
    function handleDeckClick(deckId, color) {
      const deck = document.getElementById(deckId);
      // Apply active class for visual feedback (deck shrinks)
      deck.classList.add("active");
      setTimeout(() => {
        deck.classList.remove("active");
      }, 200);
      
      // Determine new background gradient based on color parameter
      let newBg = "";
      if (color === "blue") {
        newBg = "linear-gradient(135deg, #0055FF 0%, #3399FF 100%)";
      } else if (color === "red") {
        newBg = "linear-gradient(135deg, #FF0000 0%, #FF6666 100%)";
      }
      
      // Update backgrounds of card backs within the deck
      const cardBacks = deck.querySelectorAll('.card-back');
      cardBacks.forEach(card => {
        card.style.background = newBg;
      });
      
      // Also update the background of the row of face-up cards
      const faceUpCards = document.querySelectorAll('.card-container .card');
      faceUpCards.forEach(card => {
        card.style.background = newBg;
      });
    }
  </script>
  
</body>
</html>
